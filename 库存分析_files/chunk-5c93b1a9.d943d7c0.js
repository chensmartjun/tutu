(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c93b1a9"],{"048d":function(t,e,a){},"365c":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n=a("b775"),i=function(t){return Object(n["a"])({url:"./table.json",method:"get",params:t})}},"3df3":function(t,e,a){"use strict";var n=a("ef7e"),i=a.n(n);i.a},"6e17":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container",staticStyle:{display:"flex","align-items":"flex-start",padding:"0 30px 30px"}},[a("div",{staticClass:"leftbox",staticStyle:{width:"15%"}},[a("div",{staticClass:"titlea"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-setting"}),t._v(" 类别设定 ")])],1)],1),a("ul",t._l(t.selectList,(function(e,n){return a("li",{key:n,class:{bgSelect:e.type_no==t.current},on:{click:function(a){return t.selectValue(e.type_no,n,e.type_name)}},model:{value:t.type_no,callback:function(e){t.type_no=e},expression:"type_no"}},[t._v("\n                    "+t._s(e.type_name)+"\n                ")])})),0)]),a("div",{staticStyle:{width:"85%"}},[a("div",{staticClass:"handle-box",staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[a("el-select",{staticClass:"handle-select mr10",attrs:{filterable:"",placeholder:"请选择类别"},on:{change:t.selectValue},model:{value:t.type_no,callback:function(e){t.type_no=e},expression:"type_no"}},t._l(t.selectList,(function(e,n){return a("el-option",{key:n,attrs:{label:e.type_name,value:e.type_no}},[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.type_name))])])})),1),a("div",[1==t.perData.allow_add?a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleAdd}},[t._v("添加")]):t._e(),1==t.perData.allow_dele?a("el-button",{staticClass:"handle-del mr10",attrs:{type:"danger",icon:"el-icon-delete"},on:{click:t.delAllSelection}},[t._v("批量删除")]):t._e()],1)],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:"",stripe:"","header-cell-class-name":"table-header"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"kind_no",label:"项目代号",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"kind_name",label:"项目名称"}}),a("el-table-column",{attrs:{prop:"kind_ename",label:"别名"}}),1==t.perData.allow_edit||1==t.perData.allow_dele?a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==t.perData.allow_edit?a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit"},on:{click:function(a){return t.handleEdit(e)}}},[t._v("编辑")]):t._e(),1==t.perData.allow_dele?a("el-button",{staticClass:"red",attrs:{type:"danger",plain:"",icon:"el-icon-delete"},on:{click:function(a){return t.handleDelete(e)}}},[t._v("删除")]):t._e()]}}],null,!1,761101383)}):t._e()],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":t.pageIndex,"page-sizes":[5,10,20,50,100],"page-size":t.pageSize,total:t.pageTotal},on:{"current-change":t.handlePageChange,"size-change":t.pageSizeChange}})],1)],1)]),a("el-dialog",{attrs:{title:"添加",visible:t.addData.isshow},on:{"update:visible":function(e){return t.$set(t.addData,"isshow",e)}}},[a("span",{staticStyle:{"text-align":"center","font-weight":"bold","font-size":"16px",display:"block","margin-bottom":"10px"},domProps:{textContent:t._s(t.titleName)}}),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"项目代号"}},[a("el-input",{attrs:{type:"text"},model:{value:t.addData.data.kind_no,callback:function(e){t.$set(t.addData.data,"kind_no",e)},expression:"addData.data.kind_no"}})],1),a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{model:{value:t.addData.data.kind_name,callback:function(e){t.$set(t.addData.data,"kind_name",e)},expression:"addData.data.kind_name"}})],1),a("el-form-item",{attrs:{label:"别名"}},[a("label",{attrs:{slot:"label"},slot:"label"},[t._v("别       名")]),a("el-input",{model:{value:t.addData.data.kind_ename,callback:function(e){t.$set(t.addData.data,"kind_ename",e)},expression:"addData.data.kind_ename"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addData.isshow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveAdd}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑",visible:t.editData.isshow},on:{"update:visible":function(e){return t.$set(t.editData,"isshow",e)}}},[a("span",{staticStyle:{"text-align":"center","font-weight":"bold","font-size":"16px",display:"block","margin-bottom":"10px"},domProps:{textContent:t._s(t.titleName)}}),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"项目代号"}},[a("span",{domProps:{textContent:t._s(t.editData.data.kind_no)}})]),a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{model:{value:t.editData.data.kind_name,callback:function(e){t.$set(t.editData.data,"kind_name",e)},expression:"editData.data.kind_name"}})],1),a("el-form-item",{attrs:{label:"别名"}},[a("label",{attrs:{slot:"label"},slot:"label"},[t._v("别       名")]),a("el-input",{model:{value:t.editData.data.kind_ename,callback:function(e){t.$set(t.editData.data,"kind_ename",e)},expression:"editData.data.kind_ename"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editData.isshow=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1)],1)},i=[],o=(a("ac6a"),a("7f7f"),a("365c"),a("fd03")),s={name:"basetable",data:function(){return{name:"",value:"kind",type_no:"",titleName:"",selectList:[],delList:[],pageIndex:1,pageSize:10,tableData:[],perData:"",pageTotal:0,editData:{isshow:!1,scope:null,index:0,data:{}},addData:{isshow:!1,scope:null,index:0,data:{}},current:0}},watch:{type_no:function(t,e){this.getData()}},created:function(){this.getListData(),this.getData(),this.getPermission(),this.type_no=localStorage.getItem("type_no"),this.current=0},activated:function(){this.getListData(),this.getData(),this.getPermission(),this.type_no=localStorage.getItem("type_no"),this.current=0},methods:{getListData:function(){var t=this;Object(o["Wi"])({}).then((function(e){2e3==e.code&&(t.selectList=e.data.data,t.titleName=e.data.data[0].type_name,t.type_no=e.data.data[0].type_no,localStorage.setItem("type_no",e.data.data[0].type_no))}))},getData:function(){var t=this;this.$load.show(),Object(o["aj"])({type_no:localStorage.getItem("type_no"),page:this.pageIndex,page_size:this.pageSize,keyword:this.name}).then((function(e){t.$load.close(),2e3==e.code&&(t.tableData=e.data.data,t.pageTotal=e.data.page_total)}))},selectValue:function(t,e,a){console.log(t,e,a),this.pageIndex=1,localStorage.setItem("type_no",t),this.titleName=a,this.type_no=t,this.getData(),this.current=t},handleSearch:function(){this.pageIndex=1,this.getData()},getPermission:function(){var t=this;Object(o["xb"])({id:"10"}).then((function(e){2e3==e.code?t.perData=e.data:t.$message.error(e.msg)}))},handleAdd:function(){this.addData.isshow=!0,this.addData.data={},this.type_no=localStorage.getItem("type_no")},saveAdd:function(){var t=this,e=this.addData.data;Object(o["ah"])({type_no:localStorage.getItem("type_no"),kind_no:e.kind_no,kind_name:e.kind_name,kind_ename:e.kind_ename}).then((function(e){2e3==e.code?(t.$message({message:"添加成功",type:"success"}),t.addData.isshow=!1,t.getData()):t.$message.error(e.data.info)}))},handleDelete:function(t){var e=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){Object(o["gi"])({type_no:localStorage.getItem("type_no"),kind_no:t.row.kind_no}).then((function(t){2e3==t.code?(e.$message({message:"删除成功",type:"success"}),e.getData()):e.$message.error(t.data.info)}))})).catch((function(){}))},handleSelectionChange:function(t){var e=[];t.forEach((function(t,a,n){e.push(t.kind_no)})),this.delList=e,console.log(this.delList)},delAllSelection:function(){var t=this;this.delList.length<=0?this.$message({message:"请先选择需要操作的对象",type:"error"}):this.$confirm("此操作将进行批量删除, 是否继续?","批量删除提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["gi"])({type_no:localStorage.getItem("type_no"),kind_no:t.delList.join(",")}).then((function(e){2e3==e.code?(t.$message({message:"删除成功",type:"success"}),t.getData()):t.$message.error(e.data.info)}))})).catch((function(){}))},handleEdit:function(t){this.editData.isshow=!0,this.type_no=localStorage.getItem("type_no"),this.editData.data={kind_no:t.row.kind_no,kind_nos:t.row.kind_nos,id:t.row.id,kind_name:t.row.kind_name,kind_ename:t.row.kind_ename},this.editData.row=t.row,this.editData.index=t.$index},saveEdit:function(){var t=this,e=this.editData.data;Object(o["Bi"])({type_no:this.type_no,kind_no:e.kind_no,id:e.id,kind_name:e.kind_name,kind_ename:e.kind_ename}).then((function(e){2e3==e.code?(t.$message({message:"修改成功",type:"success"}),t.editData.isshow=!1,t.getData()):t.$message.error(e.data.info)}))},handlePageChange:function(t){this.pageIndex=t,this.getData()},pageSizeChange:function(t){this.pageSize=t,this.getData()}}},l=s,d=(a("f8a0"),a("3df3"),a("2877")),c=Object(d["a"])(l,n,i,!1,null,"290b82cc",null);e["default"]=c.exports},b775:function(t,e,a){"use strict";var n=a("bc3a"),i=a.n(n),o=i.a.create({timeout:5e3});o.interceptors.request.use((function(t){return t}),(function(t){return console.log(t),Promise.reject()})),o.interceptors.response.use((function(t){if(200===t.status)return t.data;Promise.reject()}),(function(t){return console.log(t),Promise.reject()})),e["a"]=o},ef7e:function(t,e,a){},f8a0:function(t,e,a){"use strict";var n=a("048d"),i=a.n(n);i.a}}]);
//# sourceMappingURL=chunk-5c93b1a9.d943d7c0.js.map