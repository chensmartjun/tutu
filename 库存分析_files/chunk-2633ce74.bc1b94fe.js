(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2633ce74"],{"15bc":function(t,e,a){"use strict";var n=a("9ce0"),s=a.n(n);s.a},"9ce0":function(t,e,a){},ade3:function(t,e,a){"use strict";function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return n}))},fb18:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"warpper"},[a("div",{staticClass:"top"},[a("div",{staticClass:"select_warpper"},[a("p",[t._v("柜台")]),a("mySelect",{staticClass:"select_container",attrs:{placeholders:"请选择柜台",multiple:!0,options:t.pullData.counter_arr,values:"kind_no",labels:"kind_name",keys:"kind_no"},model:{value:t.analyseForm.counter_no,callback:function(e){t.$set(t.analyseForm,"counter_no",e)},expression:"analyseForm.counter_no"}})],1),a("div",{staticClass:"select_warpper"},[a("p",[t._v("品类")]),a("mySelect",{staticClass:"select_container",attrs:{placeholders:"请选择品类",multiple:!0,options:t.pullData.type_arr,values:"kind_no",labels:"kind_name",keys:"kind_no"},model:{value:t.analyseForm.type_no,callback:function(e){t.$set(t.analyseForm,"type_no",e)},expression:"analyseForm.type_no"}})],1),a("div",{staticClass:"select_warpper"},[a("p",[t._v("品目")]),a("mySelect",{staticClass:"select_container",attrs:{placeholders:"请选择品目",multiple:!0,options:t.pullData.kind_arr,values:"kind_no",labels:"kind_name",keys:"kind_no"},model:{value:t.analyseForm.kind_no,callback:function(e){t.$set(t.analyseForm,"kind_no",e)},expression:"analyseForm.kind_no"}})],1),a("div",{staticClass:"select_warpper"},[a("p",[t._v("金成色")]),a("mySelect",{staticClass:"select_container",attrs:{placeholders:"请选择金成色",multiple:!0,options:t.pullData.gold_arr,values:"kind_no",labels:"kind_name",keys:"kind_no"},model:{value:t.analyseForm.gold_no,callback:function(e){t.$set(t.analyseForm,"gold_no",e)},expression:"analyseForm.gold_no"}})],1),a("div",{staticClass:"select_warpper"},[a("p",[t._v("产品")]),a("mySelect",{staticClass:"select_container",attrs:{placeholders:"请选择产品",multiple:!0,options:t.pullData.style_arr,values:"style_no",labels:"style_name",keys:"style_no"},model:{value:t.analyseForm.style_no,callback:function(e){t.$set(t.analyseForm,"style_no",e)},expression:"analyseForm.style_no"}})],1),a("el-button",{staticClass:"buttom",attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.cencel()}}},[t._v("清空")]),a("el-button",{staticClass:"buttom",attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.onscreen()}}},[t._v("筛选")])],1),a("div",{staticClass:"center"},[a("div",{staticClass:"screen_table"},[a("div",{staticClass:"table_top"},[a("p",[t._v("柜台库存")]),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.setCurrent()}}},[t._v("取消关联")])],1),a("el-table",{ref:"singleTable",staticClass:"el_table",staticStyle:{width:"100%"},attrs:{data:t.counterData,border:"","highlight-current-row":""},on:{"current-change":t.changeCounter}},[a("el-table-column",{attrs:{prop:"kind_name",label:"柜台"}}),a("el-table-column",{attrs:{prop:"wgt",label:"重量"}}),a("el-table-column",{attrs:{prop:"qty",label:"数量"}})],1)],1),a("div",{staticClass:"chart_warpper"},[a("div",{staticClass:"change_warpper"},[a("span",{class:t.isaurify?"active":"",on:{click:function(e){return t.changewgt("1")}}},[t._v("重量")]),a("span",{class:t.isaurify?"":"active",on:{click:function(e){return t.changeqty("1")}}},[t._v("数量")])]),a("div",{style:{width:"100%",height:"500px"},attrs:{id:"aurify"}})]),a("div",{staticClass:"chart_warpper"},[a("div",{staticClass:"change_warpper"},[a("span",{class:t.iscatestock?"active":"",on:{click:function(e){return t.changewgt("2")}}},[t._v("重量")]),a("span",{class:t.iscatestock?"":"active",on:{click:function(e){return t.changeqty("2")}}},[t._v("数量")])]),a("div",{style:{width:"100%",height:"500px"},attrs:{id:"catestock"}})]),a("div",{staticClass:"chart_warpper"},[a("div",{staticClass:"change_warpper"},[a("span",{class:t.isitemstock?"active":"",on:{click:function(e){return t.changewgt("3")}}},[t._v("重量")]),a("span",{class:t.isitemstock?"":"active",on:{click:function(e){return t.changeqty("3")}}},[t._v("数量")])]),a("div",{style:{width:"100%",height:"500px"},attrs:{id:"itemstock"}})])]),a("div",{staticClass:"botton"},[t._m(0),a("div",{staticClass:"table_warpper"},[a("p",[t._v("库存详情")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.screenData.style_dtl,border:""}},[a("el-table-column",{attrs:{prop:"counter_name",label:"柜台"}}),a("el-table-column",{attrs:{prop:"gold_name",label:"金成色"}}),a("el-table-column",{attrs:{prop:"type_name",label:"品类"}}),a("el-table-column",{attrs:{prop:"kind_name",label:"品目"}}),a("el-table-column",{attrs:{prop:"wgt",sortable:"",label:"重量"}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":t.analyseForm.pageIndex,"page-size":t.analyseForm.page_size,total:t.pageTotal},on:{"current-change":t.handlePageChange}})],1)],1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product_warpper"},[a("div",{staticStyle:{width:"100%",height:"900px"},attrs:{id:"product"}})])}],i=(a("8e6e"),a("456d"),a("7f7f"),a("ac6a"),a("ade3")),r=(a("6b54"),a("fd03"));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={data:function(){return{data:[],pullData:{},analyseForm:{counter_no:[],type_no:[],kind_no:[],gold_no:[],style_no:[],counter_type:"",page_size:20,page:1},pageTotal:1,screenData:{},productDetail:[],isaurify:!0,iscatestock:!0,isitemstock:!0,chartData:{},currentRow:null,counterData:[],isrefush:!0}},mounted:function(){this.getPull(),this.screen()},methods:{getPull:function(){var t=this;Object(r["D"])({}).then((function(e){t.pullData=e.data}))},onscreen:function(){this.analyseForm.counter_type="",this.isrefush=!0,this.screen()},cencel:function(){var t={counter_no:[],type_no:[],kind_no:[],gold_no:[],style_no:[],counter_type:"",page_size:20,page:1};this.analyseForm=t,this.screen()},screen:function(){var t=this,e=this.$deepClone(this.analyseForm);for(var a in e)if(Object.hasOwnProperty.call(e,a)){e[a].toString();e[a]=e[a].toString()}Object(r["C"])(o({},e)).then((function(e){t.isaurify=!0,t.iscatestock=!0,t.isitemstock=!0,t.screenData=e.data.data,t.isrefush&&(t.counterData=e.data.data.counter),t.pageTotal=e.data.count;var a=t.$echarts.init(document.getElementById("aurify")),n=t.$echarts.init(document.getElementById("catestock")),s=t.$echarts.init(document.getElementById("itemstock")),i=t.vilidate(e.data.data.gold,"wgt"),r=t.vilidate(e.data.data.type,"wgt"),c=t.vilidate(e.data.data.kind,"wgt"),o=t.vilidate(e.data.data.gold,"qty"),l=t.vilidate(e.data.data.type,"qty"),u=t.vilidate(e.data.data.kind,"qty");t.chartData={wgtAurify:i,wgtcatestocck:r,wgtitemstock:c,qtyAurify:o,qtycatestocck:l,qtyitemstock:u},t.mychart(a,"金成色",i,"重量"),t.mychart(n,"品类库存",r,"重量"),t.mychart(s,"品目库存",c,"重量");var d=t.$echarts.init(document.getElementById("product")),p=t.vilidate(e.data.data.style,"wgt");t.mychart_t(d,"产品结构",p)}))},changeCounter:function(t){t&&(this.currentRow=t,this.isrefush=!1,this.$set(this.analyseForm,"counter_no",[]),this.$set(this.analyseForm,"counter_no",[t.counter_no]),this.$set(this.analyseForm,"counter_type",t.counter_no),this.screen())},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),this.$set(this.analyseForm,"counter_no",[]),this.$set(this.analyseForm,"counter_type",""),this.screen()},vilidate:function(t,e){var a=[];return t.forEach((function(t){var n;"wgt"==e?n={name:t.kind_name,value:Math.abs(t.wgt),values:t.wgt}:"qty"==e&&(n={name:t.kind_name,value:Math.abs(t.qty),values:t.qty}),a.push(n)})),a},mychart:function(t,e,a,n){t.setOption({title:{text:e,left:"left",textStyle:{fontSize:14}},tooltip:{trigger:"item",formatter:function(t){var e="";return e="".concat(t.seriesName,"</br>").concat(t.data.name,":").concat(t.data.values),e}},legend:{orient:"horizontal",bottom:"0",type:"scroll"},series:[{name:n,type:"pie",radius:"50%",data:a,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},mychart_t:function(t,e,a){t.setOption({title:{text:e,textStyle:{fontSize:14}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}"},legend:{bottom:"0%",type:"scroll"},series:[{name:"重量",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:a}]})},changewgt:function(t){if(1==t){this.isaurify=!0;var e=this.$echarts.init(document.getElementById("aurify"));this.mychart(e,"金成色",this.chartData.wgtAurify,"重量")}else if(2==t){this.iscatestock=!0;var a=this.$echarts.init(document.getElementById("catestock"));this.mychart(a,"品类库存",this.chartData.wgtcatestocck,"重量")}else if(3==t){this.isitemstock=!0;var n=this.$echarts.init(document.getElementById("itemstock"));this.mychart(n,"品目库存",this.chartData.wgtitemstock,"重量")}},changeqty:function(t){if(1==t){this.isaurify=!1;var e=this.$echarts.init(document.getElementById("aurify"));this.mychart(e,"金成色",this.chartData.qtyAurify,"数量")}else if(2==t){this.iscatestock=!1;var a=this.$echarts.init(document.getElementById("catestock"));this.mychart(a,"品类库存",this.chartData.qtycatestocck,"数量")}else if(3==t){this.isitemstock=!1;var n=this.$echarts.init(document.getElementById("itemstock"));this.mychart(n,"品目库存",this.chartData.qtyitemstock,"数量")}},handlePageChange:function(t){this.$set(this.analyseForm,"page",t),this.screen()}}},u=l,d=(a("15bc"),a("2877")),p=Object(d["a"])(u,n,s,!1,null,"540b71e0",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2633ce74.bc1b94fe.js.map