(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bfee9d72"],{1810:function(t,e,a){"use strict";var l=a("8799"),n=a.n(l);n.a},8799:function(t,e,a){},fe40:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"form",staticClass:"topForm",staticStyle:{background:"#fff",padding:"20px"},attrs:{model:t.form,"status-icon":"",rules:t.rules,"label-width":"100px"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:t.detailType,callback:function(e){t.detailType=e},expression:"detailType"}},[a("el-radio-button",{attrs:{label:"格式一"}},[t._v("格式一")]),a("el-radio-button",{attrs:{label:"格式二"}},[t._v("格式二")])],1),a("el-container",{staticStyle:{background:"#fff","border-radius":"15px","padding-top":"20px","padding-right":"20px","margin-bottom":"10px"}},[a("el-main",{staticStyle:{padding:"0 20px 0 0"}},[a("el-col",{attrs:{span:8,xs:24,sm:8,md:8,lg:8,xl:8}},[a("el-form-item",{attrs:{label:"开始日期",prop:"begin_date"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.form.begin_date,callback:function(e){t.$set(t.form,"begin_date",e)},expression:"form.begin_date"}})],1)],1),a("el-col",{attrs:{span:8,xs:24,sm:8,md:8,lg:8,xl:8}},[a("el-form-item",{attrs:{label:"结束日期",prop:"end_date"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}})],1)],1),a("el-col",{attrs:{span:8,xs:24,sm:8,md:8,lg:8,xl:8}},[a("el-form-item",{attrs:{label:"柜台"}},[a("label",{attrs:{slot:"label"},slot:"label"},[t._v("柜       台")]),a("el-select",{attrs:{clearable:"",filterable:"","filter-method":t.searchCounter,placeholder:"请选择"},on:{"visible-change":t.myClear,change:function(e){return t.refreshs()}},model:{value:t.form.counter_no,callback:function(e){t.$set(t.form,"counter_no",e)},expression:"form.counter_no"}},t._l(t.pull_counter,(function(e,l){return a("el-option",{key:l,attrs:{label:e.kind_name,value:e.kind_no.toString()}},[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.kind_name))]),a("span",{staticStyle:{float:"left",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.kind_no))])])})),1)],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getList("form")}}},[t._v("确定")]),1==t.perData.allow_print?a("el-button",{attrs:{type:"primary"},on:{click:t.printContext}},[t._v("打印")]):t._e(),1==t.perData.allow_print?a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:t.toImg}},[t._v("转图片下载")]):t._e()],1)],1),a("div",{staticClass:"totalparyt"},[a("div",{staticClass:"insaleSlide"},t._l(t.counterArr,(function(e,l){return a("span",{key:l,attrs:{id:e.counter_no},on:{click:function(e){return t.showDetails("aa"+l)}}},[t._v(t._s(e.counter_name))])})),0),""!=t.dtlArr?a("div",{staticClass:"insaleright"},[a("div",{ref:"print",staticStyle:{"page-break-after":"always",padding:"10px"},attrs:{id:"print"}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-around","font-weight":"bold","font-size":"14px","border-bottom":"1px solid #bbb"}},[a("span",[t._v("开始时间："+t._s(t.date1))]),a("span",[t._v("结束时间："+t._s(t.date2))]),a("span",[t._v("柜台："+t._s(t.counterName?t.counterName:"无"))])]),t.systemSet.company&&t.dtlArr.length>0?a("p",{staticClass:"company"},[t._v(t._s(t.systemSet.company))]):t._e(),t._l(t.dtlArr,(function(e,l){return a("div",{key:l,staticClass:"insale",attrs:{id:"aa"+l}},[a("div",{staticStyle:{"font-size":"16px","font-weight":"bold","margin-top":"10px","text-align":"center",background:"lightblue",padding:"5px 0"}},[t._v("\n                            "+t._s(e.counter_name)+"\n                        ")]),a("div",{staticClass:"minstablearr"},[a("div",{staticClass:"mintable"},[a("p",{staticStyle:{color:"#0061b2","text-align":"center","font-weight":"bold"}},[t._v("期 初")]),a("p",{staticStyle:{display:"block","font-size":"12px","font-weight":"bold",color:"transparent"}},[t._v(" ")]),a("p",{staticStyle:{display:"block","font-size":"12px","font-weight":"bold",color:"transparent"}},[t._v(" ")]),e.begins.data?a("table",{attrs:{border:"1",cellpadding:"0",cellspacing:"0"}},[a("tr",{attrs:{align:"center"}},[a("th",[t._v("金料名称")]),a("th",[t._v("数量")]),a("th",[t._v("重量")])]),t._l(e.begins.data,(function(e,l){return a("tr",{key:l,attrs:{align:"center"}},[e.style_name?a("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.style_name))]):a("td",[t._v("-")]),e.qty?a("td",{staticStyle:{width:"30%"}},[t._v(t._s(e.qty))]):a("td",[t._v("-")]),e.wgt?a("td",{staticStyle:{width:"30%"}},[t._v(t._s(e.wgt))]):a("td",[t._v("-")])])})),e.begins.total?a("tr",{staticStyle:{color:"#f56c6c"},attrs:{align:"center"}},[a("td",{staticStyle:{width:"40%"}},[t._v("合计")]),a("td",{staticStyle:{width:"30%"}},[t._v(t._s(e.begins.total.qty))]),a("td",{staticStyle:{width:"30%"}},[t._v(t._s(e.begins.total.wgt))])]):t._e()],2):a("p",{staticStyle:{"text-align":"center",color:"#ccc"}},[t._v("无数据")])]),"格式一"==t.detailTypes?[a("div",{staticClass:"mintable"},[a("p",{staticStyle:{color:"#0061b2","text-align":"center","font-weight":"bold"}},[t._v("入 库")]),t._l(e.in.data,(function(e,l){return a("div",{key:l},t._l(e.data,(function(e,l){return a("div",{key:l},[a("p",{staticStyle:{"font-size":"12px",color:"blue","font-weight":"bold"}},[t._v(t._s(e.mode))]),a("p",{staticStyle:{"font-size":"12px","font-weight":"bold"}},[t._v(t._s(e.style_name))]),a("table",{attrs:{border:"1",cellpadding:"0",cellspacing:"0"}},[a("tr",{attrs:{align:"center"}},[a("th",[t._v("客户名称")]),a("th",[t._v("数量")]),a("th",[t._v("重量")])]),t._l(e.data,(function(e,l){return a("tr",{key:l,attrs:{align:"center"}},[e.cust_name?a("td",{staticStyle:{width:"35%"}},[t._v(t._s(e.cust_name))]):a("td",[t._v("-")]),e.qty?a("td",{staticStyle:{width:"25%"}},[t._v(t._s(e.qty))]):a("td",[t._v("-")]),e.wgt?a("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.wgt))]):a("td",[t._v("-")])])})),e.total?a("tr",{staticStyle:{color:"#f56c6c"},attrs:{align:"center"}},[a("td",[t._v("合计")]),a("td",[t._v(t._s(e.total.qty))]),a("td",[t._v(t._s(e.total.wgt))])]):t._e()],2)])})),0)})),e.in.total?a("table",{staticStyle:{color:"red"},attrs:{border:"1",cellpadding:"0",cellspacing:"0"}},[a("tr",{staticStyle:{color:"red","font-weight":"bold"},attrs:{align:"center"}},[a("td",{staticStyle:{width:"35%"}},[t._v("合计")]),a("td",{staticStyle:{width:"25%"}},[t._v(t._s(e.in.total.qty))]),a("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.in.total.wgt))])])]):a("p",{staticStyle:{"text-align":"center",color:"#ccc","margin-top":"20px"}},[t._v("无数据")])],2),a("div",{staticClass:"mintable"},[a("p",{staticStyle:{color:"#0061b2","text-align":"center","font-weight":"bold"}},[t._v("出 库")]),t._l(e.sale.data,(function(e,l){return a("div",{key:l},t._l(e.data,(function(e,l){return a("div",{key:l},[a("p",{staticStyle:{"font-size":"12px",color:"blue","font-weight":"bold"}},[t._v(t._s(e.mode))]),a("p",{staticStyle:{"font-size":"12px","font-weight":"bold"}},[t._v(t._s(e.style_name))]),a("table",{attrs:{border:"1",cellpadding:"0",cellspacing:"0"}},[a("tr",{attrs:{align:"center"}},[a("th",[t._v("客户名称")]),a("th",[t._v("数量")]),a("th",[t._v("重量")])]),t._l(e.data,(function(e,l){return a("tr",{key:l,attrs:{align:"center"}},[e.cust_name?a("td",{staticStyle:{width:"35%"}},[t._v(t._s(e.cust_name))]):a("td",[t._v("-")]),e.qty?a("td",{staticStyle:{width:"25%"}},[t._v(t._s(e.qty))]):a("td",[t._v("-")]),e.wgt?a("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.wgt))]):a("td",[t._v("-")])])})),e.total?a("tr",{staticStyle:{color:"#f56c6c"},attrs:{align:"center"}},[a("td",[t._v("合计")]),a("td",[t._v(t._s(e.total.qty))]),a("td",[t._v(t._s(e.total.wgt))])]):t._e()],2)])})),0)})),e.sale.total?a("table",{staticStyle:{color:"red"},attrs:{border:"1",cellpadding:"0",cellspacing:"0"}},[a("tr",{staticStyle:{color:"red","font-weight":"bold"},attrs:{align:"center"}},[a("td",{staticStyle:{width:"35%"}},[t._v("合计")]),a("td",{staticStyle:{width:"25%"}},[t._v(t._s(e.sale.total.qty))]),a("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.sale.total.wgt))])])]):a("p",{staticStyle:{"text-align":"center",color:"#ccc","margin-top":"20px"}},[t._v("无数据")])],2)]:t._e(),"格式二"==t.detailTypes?[a("div",{staticClass:"mintable"},[a("p",{staticStyle:{color:"#0061b2","text-align":"center","font-weight":"bold"}},[t._v("入 库")]),t._l(e.in.data,(function(e,l){return a("div",{key:l},t._l(e.data,(function(e,l){return a("div",{key:l},[a("p",{staticStyle:{"font-size":"12px",color:"blue","font-weight":"bold"}},[t._v(t._s(e.mode))]),a("p",{staticStyle:{"font-size":"12px","font-weight":"bold"}},[t._v(t._s(e.cust_name))]),a("table",{attrs:{border:"1",cellpadding:"0",cellspacing:"0"}},[a("tr",{attrs:{align:"center"}},[a("th",[t._v("产品名称")]),a("th",[t._v("数量")]),a("th",[t._v("重量")])]),t._l(e.data,(function(e,l){return a("tr",{key:l,attrs:{align:"center"}},[e.style_name?a("td",{staticStyle:{width:"35%"}},[t._v(t._s(e.style_name))]):a("td",[t._v("-")]),e.qty?a("td",{staticStyle:{width:"25%"}},[t._v(t._s(e.qty))]):a("td",[t._v("-")]),e.wgt?a("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.wgt))]):a("td",[t._v("-")])])})),e.total?a("tr",{staticStyle:{color:"#f56c6c"},attrs:{align:"center"}},[a("td",[t._v("合计")]),a("td",[t._v(t._s(e.total.qty))]),a("td",[t._v(t._s(e.total.wgt))])]):t._e()],2)])})),0)})),e.in.total?a("table",{staticStyle:{color:"red"},attrs:{border:"1",cellpadding:"0",cellspacing:"0"}},[a("tr",{staticStyle:{color:"red","font-weight":"bold"},attrs:{align:"center"}},[a("td",{staticStyle:{width:"35%"}},[t._v("合计")]),a("td",{staticStyle:{width:"25%"}},[t._v(t._s(e.in.total.qty))]),a("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.in.total.wgt))])])]):a("p",{staticStyle:{"text-align":"center",color:"#ccc","margin-top":"20px"}},[t._v("无数据")])],2),a("div",{staticClass:"mintable"},[a("p",{staticStyle:{color:"#0061b2","text-align":"center","font-weight":"bold"}},[t._v("出 库")]),t._l(e.sale.data,(function(e,l){return a("div",{key:l},t._l(e.data,(function(e,l){return a("div",{key:l},[a("p",{staticStyle:{"font-size":"12px",color:"blue","font-weight":"bold"}},[t._v(t._s(e.mode))]),a("p",{staticStyle:{"font-size":"12px","font-weight":"bold"}},[t._v(t._s(e.cust_name))]),a("table",{attrs:{border:"1",cellpadding:"0",cellspacing:"0"}},[a("tr",{attrs:{align:"center"}},[a("th",[t._v("产品名称")]),a("th",[t._v("数量")]),a("th",[t._v("重量")])]),t._l(e.data,(function(e,l){return a("tr",{key:l,attrs:{align:"center"}},[e.cust_name?a("td",{staticStyle:{width:"35%"}},[t._v(t._s(e.style_name))]):a("td",[t._v("-")]),e.qty?a("td",{staticStyle:{width:"25%"}},[t._v(t._s(e.qty))]):a("td",[t._v("-")]),e.wgt?a("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.wgt))]):a("td",[t._v("-")])])})),e.total?a("tr",{staticStyle:{color:"#f56c6c"},attrs:{align:"center"}},[a("td",[t._v("合计")]),a("td",[t._v(t._s(e.total.qty))]),a("td",[t._v(t._s(e.total.wgt))])]):t._e()],2)])})),0)})),e.sale.total?a("table",{staticStyle:{color:"red"},attrs:{border:"1",cellpadding:"0",cellspacing:"0"}},[a("tr",{staticStyle:{color:"red","font-weight":"bold"},attrs:{align:"center"}},[a("td",{staticStyle:{width:"35%"}},[t._v("合计")]),a("td",{staticStyle:{width:"25%"}},[t._v(t._s(e.sale.total.qty))]),a("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.sale.total.wgt))])])]):a("p",{staticStyle:{"text-align":"center",color:"#ccc","margin-top":"20px"}},[t._v("无数据")])],2)]:t._e(),a("div",{staticClass:"mintable",staticStyle:{"margin-right":"0"}},[a("p",{staticStyle:{color:"#0061b2","text-align":"center","font-weight":"bold"}},[t._v("期 末")]),a("p",{staticStyle:{display:"block","font-size":"12px","font-weight":"bold",color:"transparent"}},[t._v(" ")]),a("p",{staticStyle:{display:"block","font-size":"12px","font-weight":"bold",color:"transparent"}},[t._v(" ")]),e.ends.data?a("table",{attrs:{border:"1",cellpadding:"0",cellspacing:"0"}},[a("tr",{attrs:{align:"center"}},[a("th",[t._v("金料名称")]),a("th",[t._v("数量")]),a("th",[t._v("重量")])]),t._l(e.ends.data,(function(e,l){return a("tr",{key:l,attrs:{align:"center"}},[e.style_name?a("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.style_name))]):a("td",[t._v("-")]),e.qty?a("td",{staticStyle:{width:"30%"}},[t._v(t._s(e.qty))]):a("td",[t._v("-")]),e.wgt?a("td",{staticStyle:{width:"30%"}},[t._v(t._s(e.wgt))]):a("td",[t._v("-")])])})),e.ends.total?a("tr",{staticStyle:{color:"#f56c6c"},attrs:{align:"center"}},[a("td",{staticStyle:{width:"40%"}},[t._v("合计")]),a("td",{staticStyle:{width:"30%"}},[t._v(t._s(e.ends.total.qty))]),a("td",{staticStyle:{width:"30%"}},[t._v(t._s(e.ends.total.wgt))])]):t._e()],2):a("p",{staticStyle:{"text-align":"center",color:"#ccc"}},[t._v("无数据")])])],2)])})),t.dtlArr.length>0?a("big-name"):t._e()],2)]):t._e()])],1)],1)},n=[],i=(a("34ef"),a("28a5"),a("fd03")),r=(a("add5"),a("c0e9")),s=a.n(r),o=(a("1157"),{name:"inSale",data:function(){return{form:{begin_date:"",end_date:""},allArr:"",pull_counter:"",rules:{begin_date:[{required:!0,message:"请选择起始日期",trigger:"change"}],end_date:[{required:!0,message:"请选择结束日期",trigger:"change"}]},dtlArr:[],counterArr:[],showIndex:null,perData:"",systemSet:"",counterName:"",date1:"",date2:"",detailType:"格式一"}},created:function(){this.getPull(),this.getPermission(),this.getSystem();var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.form.begin_date=e,this.form.end_date=e},mounted:function(){},methods:{getPull:function(){var t=this;Object(i["Gc"])({}).then((function(e){2e3==e.code?(t.allArr=e.data,t.pull_counter=e.data.counter):t.$message.error(e.msg)}))},getList:function(t){var e=this;this.$load.show(),this.dtlArr=[],this.$refs[t].validate((function(t){if(!t)return!1;e.detailTypes=e.detailType,"格式一"==e.detailType?Object(i["Fc"])({begin_date:e.form.begin_date,end_date:e.form.end_date,counter_no:e.form.counter_no}).then((function(t){e.$load.close(),2e3==t.code?(e.dtlArr=t.data.data,e.counterArr=t.data.counter_arr,e.date1=t.data.begin_date,e.date2=t.data.end_date,e.counterName=t.data.counter_name):e.$message.error(t.data.info)})):Object(i["Hc"])({begin_date:e.form.begin_date,end_date:e.form.end_date,counter_no:e.form.counter_no}).then((function(t){e.$load.close(),2e3==t.code?(e.dtlArr=t.data.data,e.counterArr=t.data.counter_arr,e.date1=t.data.begin_date,e.date2=t.data.end_date,e.counterName=t.data.counter_name):e.$message.error(t.data.info)}))}))},myClear:function(){this.pull_cust=this.allArr.cust},searchCounter:function(t){if(this.form.counter_no=t,t){for(var e=this.allArr.counter,a=[],l=0;l<e.length;l++)(e[l].kind_no.toLowerCase().indexOf(t.toLowerCase())>=0||e[l].kind_name.indexOf(t)>=0)&&a.push(e[l]);this.pull_counter=a}else this.pull_counter=this.allArr.counter},refreshs:function(){this.$forceUpdate()},showDetails:function(t){document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})},toImg:function(){var t=this;s()(this.$refs.print,{backgroundColor:"white",useCORS:!0,windowHeight:document.body.scrollHeight}).then((function(e){var a=e.toDataURL();t.img=a,t.download()}))},download:function(){var t=this.img;this.downloadFile("进销存表.png",t)},downloadFile:function(t,e){var a=document.createElement("a"),l=this.base64ToBlob(e),n=document.createEvent("HTMLEvents");n.initEvent("click",!0,!0),a.download=t,a.href=URL.createObjectURL(l),a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))},base64ToBlob:function(t){for(var e=t.split(";base64,"),a=e[0].split(":")[1],l=window.atob(e[1]),n=l.length,i=new Uint8Array(n),r=0;r<n;++r)i[r]=l.charCodeAt(r);return new Blob([i],{type:a})},printContext:function(){this.$print(this.$refs.print)},getPermission:function(){var t=this;Object(i["xb"])({id:"46"}).then((function(e){2e3==e.code?t.perData=e.data:t.$message.error(e.msg)}))},getSystem:function(){var t=this;Object(i["gg"])({}).then((function(e){2e3==e.code?t.systemSet=e.data:t.$message.error(e.data.info)}))}}}),c=o,d=(a("1810"),a("2877")),_=Object(d["a"])(c,l,n,!1,null,"a478e5b2",null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-bfee9d72.f576e34c.js.map